!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("element-ui/lib/table"),require("element-ui/lib/table-column")):"function"==typeof define&&define.amd?define(["element-ui/lib/table","element-ui/lib/table-column"],n):e.Egrid=n(e.ELEMENT.Table,e.ELEMENT.TableColumn)}(this,function(e,n){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var t={};["setCurrentRow","toggleRowSelection","toggleRowExpansion","clearSelection","clearFilter","clearSort","doLayout","sort"].forEach(function(e){t[e]=function(){var n=this.$refs.grid;n&&n[e]&&n[e].apply(n,arguments)}});var r,o={methods:t},l=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e},a=["fit","stripe","border","show-header","highlight-current-row","default-expand-all","show-summary"],u={align:"left",component:{functional:!0,props:["row","col","column"],render:function(e,n){var t=n.props,r=t.row,o=t.col,l=n._v,a=o.formater,u=a&&a(r,o)||r[o.prop];return l&&l(u)||u}}},i=["selection","expand","index"],c={label:"label",prop:"prop"},s={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-table",e._g(e._b({ref:"grid",staticClass:"egrid",attrs:{data:e.data}},"el-table",e.tableBind,!1),e.$listeners),[e._l(e.typesColumns,function(n){return["expand"===n.type?t("el-table-column",e._b({key:n.type,attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(n){return[e._t("expand",null,null,n)]}}])},"el-table-column",n.props,!1)):t("el-table-column",e._b({key:n.type,attrs:{type:n.type}},"el-table-column",n.props,!1))]}),e._v(" "),e._l(e.renderColumns,function(n){return t("el-table-column",e._b({key:n.label,scopedSlots:e._u([{key:"default",fn:function(r){return[t(n.component,e._g(e._b({tag:"component"},"component",e.getCptBind(r,n),!1),n.listeners))]}}])},"el-table-column",e.getColBind(n),!1))}),e._v(" "),e.slotAppend?t("template",{slot:"append"},[e._t("append")],2):e._e()],2)},staticRenderFns:[],name:"Egrid",mixins:[o],props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},columnType:[String,Array],columnTypeProps:Object,columnKeyMap:Object,columnsProps:Object,columnsSchema:Object,columnsHandler:Function,slotAppend:Boolean},computed:{tableBind:function(){var e=this.$attrs,n={};return Object.keys(e).forEach(function(t){var r=e[t],o=t.replace(/([A-Z])/,"-$1").toLowerCase();n[t]=!(!~a.indexOf(o)||""!==r)||r}),n},renderColumns:function(){var e=this.columns,n=this.columnKeyMap,t=this.columnsHandler,r=this.columnsProps,o=this.columnsSchema,l=Object.assign({},c,n),a=e.map(function(e){var n=o&&o[e[l.label]]||{},t=Object.assign({},u,r,e,n);return t.label=t[l.label],t.prop=t[l.prop],t});return t&&t(a)||a},typesColumns:function(){var e=this.columnType,n=this.columnTypeProps,t=[];"string"==typeof e&&~i.indexOf(e)&&(t=[e]),Array.isArray(e)&&(t=e.filter(function(e){return~i.indexOf(e)}));var r=n||{};return t.map(function(e){return{type:e,props:r[e]}})}},methods:{getColBind:function(e){var n=Object.assign({},e);return delete n.component,delete n.listeners,delete n.propsHandler,n},getCptBind:function(e,n){var t={row:e.row,col:n,column:e.column},r=n.propsHandler;return r&&r(t)||t}},components:(r={},l(r,e.name,e),l(r,n.name,n),r)};return s.install=function(e){e.component(s.name,s)},s._mixinsMethods=o,s});
