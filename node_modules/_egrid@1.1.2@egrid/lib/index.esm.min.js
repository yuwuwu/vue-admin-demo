import ElTable from"element-ui/lib/table";import ElTableColumn from"element-ui/lib/table-column";var METHOD_NAMES=["setCurrentRow","toggleRowSelection","toggleRowExpansion","clearSelection","clearFilter","clearSort","doLayout","sort"],methods={};METHOD_NAMES.forEach(function(e){methods[e]=function(){var n=this.$refs.grid;n&&n[e]&&n[e].apply(n,arguments)}});var _components,methods$1={methods:methods},Text={functional:!0,props:["row","col","column"],render:function(e,n){var t=n.props,o=t.row,r=t.col,l=n._v,a=r.formater,s=a&&a(o,r)||o[r.prop];return l&&l(s)||s}},defineProperty=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e},BOOLEAN_KEYS=["fit","stripe","border","show-header","highlight-current-row","default-expand-all","show-summary"],COLUMN_PROPS={align:"left",component:Text},TYPES=["selection","expand","index"],COLUMN_KEY_MAP={label:"label",prop:"prop"},Main={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-table",e._g(e._b({ref:"grid",staticClass:"egrid",attrs:{data:e.data}},"el-table",e.tableBind,!1),e.$listeners),[e._l(e.typesColumns,function(n){return["expand"===n.type?t("el-table-column",e._b({key:n.type,attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(n){return[e._t("expand",null,null,n)]}}])},"el-table-column",n.props,!1)):t("el-table-column",e._b({key:n.type,attrs:{type:n.type}},"el-table-column",n.props,!1))]}),e._v(" "),e._l(e.renderColumns,function(n){return t("el-table-column",e._b({key:n.label,scopedSlots:e._u([{key:"default",fn:function(o){return[t(n.component,e._g(e._b({tag:"component"},"component",e.getCptBind(o,n),!1),n.listeners))]}}])},"el-table-column",e.getColBind(n),!1))}),e._v(" "),e.slotAppend?t("template",{slot:"append"},[e._t("append")],2):e._e()],2)},staticRenderFns:[],name:"Egrid",mixins:[methods$1],props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},columnType:[String,Array],columnTypeProps:Object,columnKeyMap:Object,columnsProps:Object,columnsSchema:Object,columnsHandler:Function,slotAppend:Boolean},computed:{tableBind:function(){var e=this.$attrs,n={};return Object.keys(e).forEach(function(t){var o=e[t],r=t.replace(/([A-Z])/,"-$1").toLowerCase();n[t]=!(!~BOOLEAN_KEYS.indexOf(r)||""!==o)||o}),n},renderColumns:function(){var e=this.columns,n=this.columnKeyMap,t=this.columnsHandler,o=this.columnsProps,r=this.columnsSchema,l=Object.assign({},COLUMN_KEY_MAP,n),a=e.map(function(e){var n=r&&r[e[l.label]]||{},t=Object.assign({},COLUMN_PROPS,o,e,n);return t.label=t[l.label],t.prop=t[l.prop],t});return t&&t(a)||a},typesColumns:function(){var e=this.columnType,n=this.columnTypeProps,t=[];"string"==typeof e&&~TYPES.indexOf(e)&&(t=[e]),Array.isArray(e)&&(t=e.filter(function(e){return~TYPES.indexOf(e)}));var o=n||{};return t.map(function(e){return{type:e,props:o[e]}})}},methods:{getColBind:function(e){var n=Object.assign({},e);return delete n.component,delete n.listeners,delete n.propsHandler,n},getCptBind:function(e,n){var t={row:e.row,col:n,column:e.column},o=n.propsHandler;return o&&o(t)||t}},components:(_components={},defineProperty(_components,ElTable.name,ElTable),defineProperty(_components,ElTableColumn.name,ElTableColumn),_components)};Main.install=function(e){e.component(Main.name,Main)},Main._mixinsMethods=methods$1;export default Main;
